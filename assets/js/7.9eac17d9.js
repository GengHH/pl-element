(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{427:function(e,t,r){"use strict";var n=r(137),a=r(10),o=r(22),s=r(428),l=r(138);n("search",1,(function(e,t,r){return[function(t){var r=o(this),n=null==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var n=r(t,e,this);if(n.done)return n.value;var o=a(e),u=String(this),i=o.lastIndex;s(i,0)||(o.lastIndex=0);var c=l(o,u);return s(o.lastIndex,i)||(o.lastIndex=i),null===c?-1:c.index}]}))},428:function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},495:function(e,t,r){"use strict";r.r(t);r(36),r(427);var n=r(411);function a(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}r(135);var o=r(52),s=r(410),l=r.n(s),u={name:"",data:function(){return{tableData:[],total:0}},created:function(){},methods:{getTableData:function(e,t){var r=this;return Object(o.a)(regeneratorRuntime.mark((function o(){var s,u,i;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return s=e.tabName,u=a(e,["tabName"]),o.next=3,l.a.post("/search-table",Object(n.a)({job:s},u));case 3:200===(i=o.sent).status?(i=i.data,r.tableData=i.list,r.total=i.total,t({tableData:i.list,total:i.total})):t();case 5:case"end":return o.stop()}}),o)})))()},deleteUser:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,l.a.post("/delete-user",{id:e.id});case 2:200===(n=r.sent).status&&1===(n=n.data).code&&(t.$message.success("删除用户成功"),t.refreshTable());case 4:case"end":return r.stop()}}),r)})))()},refreshTable:function(){this.$refs["pf-tab-table"].search()},getSex:function(e){return{1:"男",0:"女"}[e]},getJob:function(e){return{designer:"设计",programmer:"程序员",testers:"测试",product:"产品"}[e.cellValue]}},computed:{tabs:function(){return[{label:"设计",name:"designer"},{label:"程序员",name:"programmer"},{label:"测试",name:"testers"},{label:"产品",name:"product"}]},columns:function(){return[{prop:"id",label:"id"},{prop:"name",label:"姓名",attrs:{width:60}},{prop:"address",label:"地址",attrs:{minWidth:140}},{prop:"birth",label:"生日",formatter:"date"},{prop:"job",label:"职位",formatter:this.getJob},{slot:"sex",label:"性别"},{slot:"handle",label:"操作",attrs:{width:170}}]},formItems:function(){return[{type:"input",prop:"name",label:"姓名"},{type:"select",prop:"sex",label:"性别",options:[{label:"男",value:1},{label:"女",value:0}]}]}}},i=r(17),c=Object(i.a)(u,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("pf-tab-table",{ref:"pf-tab-table",attrs:{tabs:e.tabs,columns:e.columns,"form-items":e.formItems},on:{"get-table-data":e.getTableData},scopedSlots:e._u([{key:"sex",fn:function(t){var n=t.row;return[r("el-tag",{attrs:{type:n.sex?"success":"danger"}},[e._v(e._s(e.getSex(n.sex)))])]}},{key:"handle",fn:function(t){var n=t.row;return[r("el-popconfirm",{attrs:{title:"请确认是否删除",width:"200",placement:"top-end"},on:{onConfirm:function(t){return e.deleteUser(n)}},scopedSlots:e._u([{key:"reference",fn:function(){return[r("el-button",{attrs:{size:"mini",type:"danger"}},[e._v("删除")])]},proxy:!0}],null,!0)})]}}])})}),[],!1,null,"43a9cf16",null);t.default=c.exports}}]);